webpackJsonp([76],{"46+R":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("fZjL"),n=a.n(l),i=a("Dd8w"),r=a.n(i),o=a("mtWM"),s=a.n(o);a("abQ+");s.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";var u={components:{},data:function(){return{form:{audit_person:null,knowledge_type:null,severity_level:null},queryInfo:{name:"",type:"",page:1,pageSize:10},tableData:[],searchTableData:[],TableHeight:0,tableRadio:{},currentPage:1,pagesize:10,pagesizes:[5,10,20,50,100],total:0,isopenDialog:"false",title:"",option_audit_person:[{value:"李工",label:"李工"},{value:"吴工",label:"吴工"},{value:"张工",label:"张工"}],option_severity_level:[{value:"告警",label:"告警"},{value:"提示",label:"提示"},{value:"紧急故障",label:"紧急故障"},{value:"轻微故障",label:"轻微故障"},{value:"一般故障",label:"一般故障"}],options:[{value:"电气元件",label:"电气元件"},{value:"充电模块",label:"充电模块"},{value:"内部环境",label:"内部环境"},{value:"车桩交互",label:"车桩交互"},{value:"逻辑类",label:"逻辑类"},{value:"通讯类",label:"通讯类"}]}},computed:{},watch:{},methods:{getData:function(){var e=this;s.a.get("http://10.160.24.112:7000/KnowledgeAudit/AlreadyInit").then(function(t){e.searchTableData=t.data.data,e.searchTableData.sort(function(e,t){return e.audit_time<t.audit_time?1:-1})})},onSearch:function(){var e=this;if(""==this.form.knowledge_type&&(this.form.knowledge_type=null),""==this.form.severity_level&&(this.form.severity_level=null),""==this.form.audit_person&&(this.form.audit_person=null),null==this.form.knowledge_type&&null==this.form.severity_level&&null==this.form.audit_person)this.getData();else{var t=r()({},this.searchDataParams);t.knowledge_type=this.form.knowledge_type,t.status="通过",t.severity_level=this.form.severity_level,t.entry_person=this.form.entry_person,s.a.post("http://10.160.24.112:7000/KnowledgeAudit/search",t).then(function(t){e.searchTableData=t.data.data,e.$message.success("查询成功")})}},tableRes:function(e,t,a){var l=e;return t.filter(function(e){return n()(e).some(function(t){return a?-1==a.indexOf(t)?String(e[t]).toLowerCase().indexOf(l)>-1:void 0:String(e[t]).toLowerCase().indexOf(l)>-1})})},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},reset:function(){this.form.knowledge_type=null,this.form.audit_person=null,this.form.severity_level=null}},created:function(){this.getData()},mounted:function(){var e=this,t=document.documentElement.clientHeight||document.bodyclientHeight;this.$nextTick(function(){e.TableHeight=t-e.$refs.formDiv.offsetHeight-175})},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{ref:"formDiv"},[a("el-form",{ref:"form",staticClass:"unitForm",attrs:{model:e.form,id:"form"}},[a("el-form-item",{attrs:{label:"知识类型:"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:"true"},model:{value:e.form.knowledge_type,callback:function(t){e.$set(e.form,"knowledge_type",t)},expression:"form.knowledge_type"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"严重等级:"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:"true"},model:{value:e.form.severity_level,callback:function(t){e.$set(e.form,"severity_level",t)},expression:"form.severity_level"}},e._l(e.option_severity_level,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"录入人:"}},[a("el-select",{attrs:{placeholder:"请选择",clearable:"true"},model:{value:e.form.audit_person,callback:function(t){e.$set(e.form,"audit_person",t)},expression:"form.audit_person"}},e._l(e.option_audit_person,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.onSearch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-reset",size:"small"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.searchTableData.slice((e.queryInfo.page-1)*e.queryInfo.pageSize,e.queryInfo.page*e.queryInfo.pageSize),id:"table",stripe:"","header-row-style":{height:"35px"},"row-style":{height:"35px"},height:e.TableHeight,"default-sort":{prop:"audit_time",order:"descending"}}},[a("el-table-column",{attrs:{label:"",align:"center","min-width":"3%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row},model:{value:e.tableRadio,callback:function(t){e.tableRadio=t},expression:"tableRadio"}},[a("i")])]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",align:"center","min-width":"4%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"knowledge_type",label:"知识类型",align:"center","min-width":"5%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"severity_level",label:"严重等级",align:"center","min-width":"5%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"故障描述",align:"center","min-width":"13%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"entry_time",label:"录入时间",align:"center","min-width":"10%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"entry_person",label:"录入人",align:"center","min-width":"5%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"审核状态",align:"center","min-width":"4%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"audit_person",label:"审核人",align:"center","min-width":"5%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"audit_time",label:"审核时间",align:"center","min-width":"10%"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pagesizes,"page-size":e.pagesize,layout:" prev, pager, next, jumper, sizes,total",total:this.searchTableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var d=a("VU/8")(u,c,!1,function(e){a("d/U8")},"data-v-dd5adcc2",null);t.default=d.exports},"8edO":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.unitForm[data-v-dd5adcc2] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.unitForm .el-form-item[data-v-dd5adcc2] {\n    width: 24%;\n}\n.unitForm .el-form-item .el-form-item__label[data-v-dd5adcc2] {\n      width: 40%;\n}\n.unitForm .el-form-item .el-form-item__content[data-v-dd5adcc2] {\n      margin-left: 10px !important;\n}\n.unitForm .el-form-item .el-form-item__content .el-date-editor[data-v-dd5adcc2] {\n        width: 100%;\n}\n.unitForm .el-form-item .el-form-item__content .el-date-editor .el-input__icon[data-v-dd5adcc2] {\n          color: #15a193;\n}\n.toolbar[data-v-dd5adcc2] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  padding-bottom: 15px;\n}\n.toolbar .btnGroup[data-v-dd5adcc2] {\n    width: 35%;\n}\n",""])},"d/U8":function(e,t,a){var l=a("8edO");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("43fb4df1",l,!0)}});