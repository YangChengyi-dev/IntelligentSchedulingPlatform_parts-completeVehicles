webpackJsonp([99],{sYWv:function(e,t,l){(e.exports=l("FZ+f")(!1)).push([e.i,"\n.unitForm[data-v-392c24d5] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.unitForm .el-form-item[data-v-392c24d5] {\n    width: 24%;\n}\n.unitForm .el-form-item .el-form-item__label[data-v-392c24d5] {\n      width: 40%;\n}\n.unitForm .el-form-item .el-form-item__content[data-v-392c24d5] {\n      margin-left: 10px !important;\n}\n.unitForm .el-form-item .el-form-item__content .el-date-editor[data-v-392c24d5] {\n        width: 100%;\n}\n.unitForm .el-form-item .el-form-item__content .el-date-editor .el-input__icon[data-v-392c24d5] {\n          color: #15a193;\n}\n.toolbar[data-v-392c24d5] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  padding-bottom: 15px;\n}\n.toolbar .btnGroup[data-v-392c24d5] {\n    width: 35%;\n}\n.dialog-bottom-button[data-v-392c24d5] {\n  margin-left: 75%;\n}\n.text_description[data-v-392c24d5] {\n  width: 100%;\n}\n",""])},u5VC:function(e,t,l){var a=l("sYWv");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);l("rjj0")("8b0d08fa",a,!0)},uW1J:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("fZjL"),n=l.n(a),r=l("Dd8w"),o=l.n(r),i=l("mtWM"),s=l.n(i);l("abQ+");s.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";var u={components:{},data:function(){return{form:{entry_person:null,knowledge_type:null,status:null,severity_level:null},queryInfo:{name:"",type:"",page:1,pageSize:10},add_form:{knowledge_type:"",severity_level:"",description:"",entry_person:"",audit_person:""},dialogVisible:!1,searchDataParams:{knowledge_type:null,status:null,severity_level:null,audit_person:null},tableData:[],searchTableData:[],TableHeight:0,tableRadio:{},currentPage:1,pagesize:10,pagesizes:[5,10,20,50,100],total:0,isopenDialog:"false",title:"",option_status:[{value:"通过",label:"通过"},{value:"未通过",label:"未通过"}],option_audit_person:[{value:"李工",label:"李工"},{value:"吴工",label:"吴工"},{value:"张工",label:"张工"}],option_severity_level:[{value:"告警",label:"告警"},{value:"提示",label:"提示"},{value:"紧急故障",label:"紧急故障"},{value:"轻微故障",label:"轻微故障"},{value:"一般故障",label:"一般故障"}],options:[{value:"电气元件",label:"电气元件"},{value:"充电模块",label:"充电模块"},{value:"内部环境",label:"内部环境"},{value:"车桩交互",label:"车桩交互"},{value:"逻辑类",label:"逻辑类"},{value:"通讯类",label:"通讯类"}]}},computed:{userName:{get:function(){return this.$store.state.user.user.userName}}},watch:{},methods:{getData:function(){var e=this;s.a.get("http://10.160.24.112:7000/KnowledgeAudit/init").then(function(t){e.searchTableData=t.data.data,e.searchTableData.sort(function(e,t){return e.entry_time<t.entry_time?1:-1})})},onSearch:function(){var e=this;if(""==this.form.knowledge_type&&(this.form.knowledge_type=null),""==this.form.status&&(this.form.status=null),""==this.form.severity_level&&(this.form.severity_level=null),""==this.form.entry_person&&(this.form.entry_person=null),null==this.form.knowledge_type&&null==this.form.status&&null==this.form.severity_level&&null==this.form.entry_person)this.getData();else{var t=o()({},this.searchDataParams);t.knowledge_type=this.form.knowledge_type,t.status=this.form.status,t.severity_level=this.form.severity_level,t.entry_person=this.form.entry_person,s.a.post("http://10.160.24.112:7000/KnowledgeAudit/search",t).then(function(t){e.searchTableData=t.data.data,e.$message.success("查询成功")})}},tableRes:function(e,t,l){var a=e;return t.filter(function(e){return n()(e).some(function(t){return l?-1==l.indexOf(t)?String(e[t]).toLowerCase().indexOf(a)>-1:void 0:String(e[t]).toLowerCase().indexOf(a)>-1})})},handleCurrentChange:function(e){this.queryInfo.page=e},handleSizeChange:function(e){this.queryInfo.pageSize=e},resetForm:function(e){e.knowledge_type="",e.severity_level="",e.entry_person="",e.audit_person="",e.description=""},submitForm:function(e){var t=this;""==e.knowledge_type||""==e.severity_level||""==e.entry_person||""==e.audit_person||""==e.description?this.$message.error("添加失败，必须字段均不能为空"):s.a.get("http://10.160.24.112:7000/KnowledgeAudit/create",{params:{knowledge_type:e.knowledge_type,severity_level:e.severity_level,entry_person:e.entry_person,audit_person:e.audit_person,description:e.description}}).then(function(e){t.$message.success("插入成功"),t.dialogVisible=!1,t.getData()})}},created:function(){this.getData()},mounted:function(){var e=this,t=document.documentElement.clientHeight||document.bodyclientHeight;this.$nextTick(function(){e.TableHeight=t-e.$refs.formDiv.offsetHeight-175})},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},d={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"app"}},[l("div",{ref:"formDiv"},[l("el-form",{ref:"form",staticClass:"unitForm",attrs:{model:e.form,id:"form"}},[l("el-form-item",{attrs:{label:"知识类型:"}},[l("el-select",{attrs:{placeholder:"请选择",clearable:"true"},model:{value:e.form.knowledge_type,callback:function(t){e.$set(e.form,"knowledge_type",t)},expression:"form.knowledge_type"}},e._l(e.options,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"审核状态:"}},[l("el-select",{attrs:{placeholder:"请选择",clearable:"true"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.option_status,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"严重等级:"}},[l("el-select",{attrs:{placeholder:"请选择",clearable:"true"},model:{value:e.form.severity_level,callback:function(t){e.$set(e.form,"severity_level",t)},expression:"form.severity_level"}},e._l(e.option_severity_level,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"录入人:"}},[l("el-select",{attrs:{placeholder:"请选择",clearable:"true"},model:{value:e.form.entry_person,callback:function(t){e.$set(e.form,"entry_person",t)},expression:"form.entry_person"}},e._l(e.option_audit_person,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.onSearch}},[e._v("查询")]),e._v(" "),l("el-button",{attrs:{type:"primary",icon:"el-icon-add",size:"small"},nativeOn:{click:function(t){e.dialogVisible=!0}}},[e._v("添加")])],1)],1)],1),e._v(" "),l("el-dialog",{attrs:{visible:e.dialogVisible,"custom-class":"menu-dialog-height"},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("el-form",{attrs:{"v-model":e.add_form,inline:!0,"label-position":e.left}},[l("el-form-item",{attrs:{label:"知识类型:"}},[l("el-select",{attrs:{placeholder:"请选择",clearable:"true"},model:{value:e.add_form.knowledge_type,callback:function(t){e.$set(e.add_form,"knowledge_type",t)},expression:"add_form.knowledge_type"}},e._l(e.options,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"审核人："}},[l("el-select",{attrs:{placeholder:"请选择",clearable:"true"},model:{value:e.add_form.entry_person,callback:function(t){e.$set(e.add_form,"entry_person",t)},expression:"add_form.entry_person"}},e._l(e.option_audit_person,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"严重等级:"}},[l("el-select",{attrs:{placeholder:"请选择",clearable:"true"},model:{value:e.add_form.severity_level,callback:function(t){e.$set(e.add_form,"severity_level",t)},expression:"add_form.severity_level"}},e._l(e.option_severity_level,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("el-form-item",{attrs:{label:"录入人："}},[l("el-select",{attrs:{placeholder:"请选择",clearable:"true"},model:{value:e.add_form.audit_person,callback:function(t){e.$set(e.add_form,"audit_person",t)},expression:"add_form.audit_person"}},[l("el-option",{attrs:{label:e.userName,value:e.userName}})],1)],1),e._v(" "),l("el-col",{attrs:{span:18}},[l("el-form-item",{staticClass:"text_description",attrs:{label:"故障描述:"}},[l("el-input",{staticStyle:{width:"465px"},attrs:{type:"textarea",maxlength:"30","show-word-limit":"",autosize:"{ minRows: 2, maxRows: 6 }",rows:6},model:{value:e.add_form.description,callback:function(t){e.$set(e.add_form,"description",t)},expression:"add_form.description"}})],1)],1),e._v(" "),l("el-form-item",{staticClass:"dialog-bottom-button"},[l("el-button",{on:{click:function(t){e.submitForm(e.add_form)}}},[e._v("提交")]),e._v(" "),l("el-button",{on:{click:function(t){e.resetForm(e.add_form)}}},[e._v("重置")])],1)],1)],1),e._v(" "),l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.searchTableData.slice((e.queryInfo.page-1)*e.queryInfo.pageSize,e.queryInfo.page*e.queryInfo.pageSize),id:"table",stripe:"","header-row-style":{height:"35px"},"row-style":{height:"35px"},height:e.TableHeight,"default-sort":{prop:"audit_time",order:"descending"}}},[l("el-table-column",{attrs:{label:"",align:"center","min-width":"3%"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row},model:{value:e.tableRadio,callback:function(t){e.tableRadio=t},expression:"tableRadio"}},[l("i")])]}}])}),e._v(" "),l("el-table-column",{attrs:{type:"index",label:"序号",align:"center","min-width":"4%"}}),e._v(" "),l("el-table-column",{attrs:{prop:"knowledge_type",label:"知识类型",align:"center","min-width":"5%"}}),e._v(" "),l("el-table-column",{attrs:{prop:"severity_level",label:"严重等级",align:"center","min-width":"5%"}}),e._v(" "),l("el-table-column",{attrs:{prop:"description",label:"故障描述",align:"center","min-width":"13%"}}),e._v(" "),l("el-table-column",{attrs:{prop:"entry_time",label:"录入时间",align:"center","min-width":"10%"}}),e._v(" "),l("el-table-column",{attrs:{prop:"entry_person",label:"录入人",align:"center","min-width":"5%"}}),e._v(" "),l("el-table-column",{attrs:{prop:"status",label:"审核状态",align:"center","min-width":"4%"}}),e._v(" "),l("el-table-column",{attrs:{prop:"audit_person",label:"审核人",align:"center","min-width":"5%"}}),e._v(" "),l("el-table-column",{attrs:{prop:"audit_time",label:"审核时间",align:"center","min-width":"10%"}})],1),e._v(" "),l("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pagesizes,"page-size":e.pagesize,layout:" prev, pager, next, jumper, sizes,total",total:e.searchTableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var c=l("VU/8")(u,d,!1,function(e){l("u5VC")},"data-v-392c24d5",null);t.default=c.exports}});