# 物流设计系统 - 配置和运行指南

本文档详细说明了如何配置和运行物流设计系统，包括前后端环境配置、数据库设置和服务启动步骤。

## 目录
1. [系统架构](#系统架构)
2. [后端配置](#后端配置)
3. [前端配置](#前端配置)
4. [数据库配置](#数据库配置)
5. [服务启动](#服务启动)
6. [常见问题](#常见问题)

## 系统架构

- **后端**: Python Flask + TensorFlow
- **前端**: Vue.js 2.x + Element UI
- **数据库**: MySQL

## 后端配置

### 1. 安装Python依赖

```bash
cd d:\dev-inPython\dev_test0922\LogisticsDesign
pip install -r requirements.txt
```

### 2. 数据库配置

编辑配置文件 `config/config.ini`：

```ini
[DevelopmentMysql]
host = localhost
port = 3306
database = logistics_test
username = root
password = 123456
```

### 3. 启动后端服务

```bash
python app.py
```

服务将在 `http://127.0.0.1:5000` 运行

## 前端配置

### 1. 安装Node.js

1. 从官网下载Node.js LTS版本：https://nodejs.org/
2. 安装Node.js（已包含npm）
3. 验证安装：

```bash
node -v
npm -v
```

### 2. 安装前端依赖

```bash
cd d:\dev-inPython\dev_test0922\front
npm install
```

### 3. 配置前端代理

已修改 `config/index.js`，代理指向后端5000端口：

```javascript
proxyTable: {
  "/proxyApi": {
    target: "http://127.0.0.1:5000/",
    changeOrigin: true,
    pathRewrite: {
      "^/proxyApi": "/"
    }
  },
  "/api": {
    target: "http://127.0.0.1:5000/",
    changeOrigin: true,
    pathRewrite: {
      "^/api": ""
    }
  }
}
```

### 4. 启动前端服务

```bash
npm run dev
```

前端服务将在 `http://localhost:8183` 运行

## 数据库配置

### 1. 安装MySQL

1. 下载并安装MySQL Community Server：https://dev.mysql.com/downloads/mysql/
2. 配置MySQL服务

### 2. 创建数据库

```sql
CREATE DATABASE logistics_test CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

### 3. 初始化数据库

系统数据库将在首次运行时自动创建（需要取消app.py中create()函数的注释）。

### 4. 创建管理员用户

```bash
python create_admin_user.py
```

## 服务启动

### 步骤1：启动后端服务

```bash
cd d:\dev-inPython\dev_test0922\LogisticsDesign
python app.py
```

### 步骤2：启动前端服务

```bash
cd d:\dev-inPython\dev_test0922\front
npm run dev
```

### 步骤3：访问系统

在浏览器中打开：`http://localhost:8183`

使用以下凭证登录：
- 用户名：admin
- 密码：123456

## 常见问题

### 1. MySQL连接失败

- 确保MySQL服务已启动
- 检查数据库配置是否正确
- 确保用户有权限访问logistics_test数据库

### 2. 前端无法访问后端API

- 确保后端服务正在运行
- 检查前端代理配置是否正确
- 检查防火墙设置

### 3. 登录失败

- 使用硬编码的admin/123456账户（开发模式）
- 或确保数据库中有正确的用户记录

### 4. Node.js安装问题

- 使用管理员权限运行安装程序
- 安装完成后重启命令行窗口

## 开发环境说明

- **Python版本**: 3.11+
- **Node.js版本**: 16.x或20.x LTS
- **MySQL版本**: 8.0+
- **浏览器要求**: Chrome 90+，Firefox 88+，Edge 90+

## 后续优化建议

1. 使用密码哈希存储替代明文密码
2. 实现数据库连接池以提高性能
3. 添加完善的日志记录和错误处理
4. 配置HTTPS以提高安全性